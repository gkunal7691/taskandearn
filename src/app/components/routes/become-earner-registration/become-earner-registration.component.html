<div class="logo-block">
  <!-- <img class="logo-image" src="../../../assets/logo/TICON-preview.png" alt="Taskandearn"> -->
  <span class="navbar-brand">
    <a [routerLink]="['']">
      Taskandearn
    </a>
  </span>
</div>


<div class="container">
  <div>
    <div class="col-12 col-md-5 text-coloumn first-colomn">
      <div class="professional-block row text-center">
        <p>
          <span class="professional-text">Professional Create an Account</span>
          <span class="create-text"> or</span>
          <button class="btn btn-link sign-text" style="font-size: 20px" [routerLink]="['../become-earner-login']">
            Sign In
          </button>
        </p>
      </div>

      <section class="contact-section bg-light mb-5">
        <div class="container">
          <div class="pb-2 pt-3" *ngIf="step == 1">
            <div class="avatar-upload">
              <div class="avatar-edit">
                <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" (change)="uploadImage($event)" />
                <label for="imageUpload"><i class="fas fa-pen" style="padding-left: 10px;"></i></label>
              </div>
              <div class="avatar-preview">
                <div id="imagePreview" [ngStyle]="{ 'background-image': 'url(' + previewUrl + ')'}" *ngIf="previewUrl">
                </div>
                <div id="imagePreview"
                  [ngStyle]="{ 'background-image': 'url(' + '../../../../assets/template/images/user.svg' + ')'}"
                  *ngIf="!previewUrl">
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <label class="mb-0"><b>First Name</b><span class="text-danger">*</span></label>
                <input type="text" class="form-control" placeholder="First Name"
                  [formControl]="registerForm.controls['firstName']" />
                <div *ngIf="
                    registerForm.controls['firstName'].invalid &&
                    registerForm.controls['firstName'].touched
                  ">
                  <small class="text-danger">First name is required</small>
                </div>
              </div>
              <div class="col-md-6">
                <label class="mb-0"><b>Last Name</b></label>
                <input type="text" class="form-control" placeholder="Last Name"
                  [formControl]="registerForm.controls['lastName']" />
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Email</b><span class="text-danger">*</span></label>
              <input type="text" class="form-control" placeholder="Email"
                [formControl]="registerForm.controls['email']" />
              <div *ngIf="
                  registerForm.controls['email'].invalid &&
                  registerForm.controls['email'].touched &&
                  !registerForm.controls['email'].hasError('emailTaken')
              ">
                <small class="text-danger">That doesn't look right.</small>
              </div>
              <div *ngIf="
                  registerForm.controls['email'].invalid &&
                  registerForm.controls['email'].touched &&
                  registerForm.controls['email'].hasError('emailTaken')
              ">
                <small class="text-danger">This email is already taken.</small>
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Password</b><span class="text-danger">*</span></label>
              <input type="password" class="form-control" placeholder="Password"
                [formControl]="registerForm.controls['password']" />
              <div *ngIf="
                  registerForm.get('password').invalid &&
                  registerForm.get('password').touched
              ">
                <small class="text-danger" *ngIf="registerForm.get('password').errors?.minlength">
                  Password must be at least 6 characters
                </small>
                <small class="text-danger" *ngIf="registerForm.get('password').errors?.required">
                  Password is required
                </small>
              </div>
            </div>
            <div class="mt-2">
              <label class="mb-0"><b>Confirm Password</b><span class="text-danger">*</span></label>
              <input type="password" class="form-control" placeholder="Confirm Password"
                [formControl]="registerForm.controls['cofirmPassword']" />
              <div *ngIf="
                  registerForm.get('cofirmPassword').invalid &&
                  registerForm.get('cofirmPassword').touched
                ">
                <small class="text-danger" *ngIf="registerForm.get('cofirmPassword').hasError('notSamePassword')">
                  Password doesn't matched !!
                </small>
                <small class="text-danger" *ngIf="registerForm.get('cofirmPassword').errors?.required">
                  Confirm password is required
                </small>
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Mobile Number</b><span class="text-danger">*</span></label>
              <input type="number" class="form-control" placeholder="Mobile Number" onkeydown="return event.keyCode !== 69"
                [formControl]="registerForm.controls['mobile']" />
              <small class="text-danger" *ngIf="
                registerForm.get('mobile').valid &&
                registerForm.get('mobile').touched &&
                registerForm.get('mobile').value < 1000000000">
                Mobile number must be at least 10 characters
              </small>
              <small class="text-danger" *ngIf="
                registerForm.get('mobile').invalid &&
                registerForm.get('mobile').touched &&
                registerForm.get('mobile').errors?.required
              ">
                Mobile number is required
              </small>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Personal Description</b><span class="text-danger">*</span></label>
              <textarea class="form-control" placeholder="Personal Description"
                [formControl]="registerForm.controls['description']"></textarea>
              <div>
                <small class="text-danger" *ngIf="
                    registerForm.get('description').invalid &&
                    registerForm.get('description').touched &&
                    registerForm.get('description').errors?.required
                  ">
                  Personal description is required</small>
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Service Offering</b><span class="text-danger">*</span></label>
              <input type="text" class="form-control" placeholder="Service Offering"
                [formControl]="registerForm.controls['service']" />
              <div>
                <small class="text-danger" *ngIf="
                    registerForm.get('service').invalid &&
                    registerForm.get('service').touched &&
                    registerForm.get('service').errors?.required
                  ">
                  Service offering is required</small>
              </div>
            </div>

            <div class="form-group mt-3" style="text-align: center">
              <button class="btn btn-primary" [disabled]="!registerForm.controls['firstName'].valid ||
                !registerForm.controls['email'].valid || !registerForm.controls['password'].valid ||
                !registerForm.controls['cofirmPassword'].valid || registerForm.controls['mobile'].invalid || 
                registerForm.controls['mobile'].value < 1000000000 ||
                !registerForm.controls['description'].valid || !registerForm.controls['service'].valid"
                (click)="nextStep(2);">
                Next
              </button>
            </div>
          </div>

          <!-- Step-2 -->

          <div class="pt-3 pb-3" *ngIf="step == 2">
            <div class="mt-2">
              <label class="mb-0"><b>Street</b><span class="text-danger">*</span></label>
              <input type="text" class="form-control" placeholder="Street"
                [formControl]="registerForm.controls['street']" />
              <div *ngIf="
                  registerForm.controls['street'].invalid &&
                  registerForm.controls['street'].touched
                ">
                <small class="text-danger">Street is required</small>
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>City</b><span class="text-danger">*</span></label>
              <input type="text" class="form-control" placeholder="City"
                [formControl]="registerForm.controls['city']" />
              <div *ngIf="
                registerForm.controls['city'].invalid &&
                registerForm.controls['city'].touched
              ">
                <small class="text-danger">City is required</small>
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Pincode</b><span class="text-danger">*</span></label>
              <input type="number" class="form-control" placeholder="Pincode" onkeydown="return event.keyCode !== 69"
                [formControl]="registerForm.controls['pincode']" />
              <div *ngIf="
                registerForm.controls['pincode'].invalid &&
                registerForm.controls['pincode'].touched
              ">
                <small class="text-danger">Pincode is required</small>
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Country</b><span class="text-danger">*</span></label>
              <input type="text" class="form-control" placeholder="Country"
                [formControl]="registerForm.controls['country']" />
              <div *ngIf="
                registerForm.controls['country'].invalid &&
                registerForm.controls['country'].touched
              ">
                <small class="text-danger">Country is required</small>
              </div>
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Skills</b></label>
              <input type="text" class="form-control" placeholder="Skills"
                [formControl]="registerForm.controls['skills']" />
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Experience</b></label>
              <input type="text" class="form-control" placeholder="Experience"
                [formControl]="registerForm.controls['experience']" />
            </div>

            <div class="mt-2">
              <label class="mb-0"><b>Hobbies</b></label>
              <input type="text" class="form-control" placeholder="Hobbies"
                [formControl]="registerForm.controls['hobbies']" />
            </div>

            <div class="card-body px-3 pt-3">
              <div ng2FileDrop [ngClass]="{
                  'another-file-over-class': hasAnotherDropZoneOver
                }" (fileOver)="fileOverAnother($event)" [uploader]="uploader" class="box-placeholder my-drop-zone"
                style="text-align: center">
                Drag and drop files here to attach to ID Proof.
              </div>
              <label for="file1" class="file-upload">
                <button class="btn btn-secondary btn-block">
                  Upload ID Proof
                </button>
                <input id="file1" type="file" class="file_1" ng2FileSelect [uploader]="uploader" multiple />
              </label>
              <table class="table">
                <tbody>
                  <tr class="pr-0" *ngFor="let item of uploader.queue">
                    <td class="pr-0">
                      <strong>{{ item?.file?.name }}</strong>
                    </td>
                    <td nowrap class="pr-0">
                      <button type="button" class="btn btn-danger btn-xs ml-2" (click)="item.remove()">
                        <span class="icon-trash pr-2 pl-1"></span>Remove
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="d-flex justify-content-between mt-2">
              <div>
                <button class="btn btn-primary" [disabled]="loder" (click)="nextStep(1)">
                  Back
                </button>
              </div>
              <div>
                <button class="btn btn-primary" [disabled]="registerForm.invalid || !uploader.queue.length || loder"
                  (click)="submit()">
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="col-12 col-md-5 pt-5 ml-5 second-coloumn">
      <div class="register-image">
        <img class="d-block w-100" src="../../../../assets/template/images/IMG-20210607-WA0005.jpg" />
      </div>
      <div class="row mb-3">
        <button class="bg-primary btn-block p-1 app-now">
          DOWNLOAD OUR APP NOW
        </button>
      </div>
      <div class="row available-text">
        <p class="pl-2">Now available on App Store and Google Play Store</p>
      </div>
    </div>
  </div>
</div>